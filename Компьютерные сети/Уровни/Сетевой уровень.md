# Сетевой уровень (Network layer)

Сетевой уровень управляет работой подсети. Сетевой уровень является 3 снизу в [[OSI Модель]]. Основной целью этого уровня является доставка пакетов от источника к получателю по нескольким каналам связи (сетям). Если два компьютера (системы) подключены по одному каналу связи, то необходимости в сетевом уровне нет. Сетевой уровень направляет сигнал по разным каналам и действует как сетевой контроллер.  
  
Он также разделяет исходящие сообщения на пакеты и собирает входящие пакеты в сообщения для более высоких уровней.

## Для чего нужен сетевой уровень?

Сетевой уровень был разработан для того, чтобы решить проблему доставки по нескольким каналам связи. Сетевой уровень отвечает за доставку от узла к узлу и маршрутизацию пакетов через маршрутизаторы или коммутаторы.  
  
Сетевой уровень в источнике отвечает за создание пакета из данных, поступающих из другого протокола (например, протокола транспортного уровня или протокола маршрутизации). Заголовок пакета содержит, среди прочего, логические адреса источника и получателя. Сетевой уровень отвечает за проверку своей таблицы маршрутизации для поиска информации о маршрутизации (такой как исходящий интерфейс пакета или физический адрес следующего узла). Если пакет слишком велик, он фрагментируется (делится на несколько пакетов меньшего размера).  
  
Сетевой уровень на коммутаторе или маршрутизаторе отвечает за маршрутизацию пакета. Когда приходит пакет, маршрутизатор или коммутатор обращается к своей таблице маршрутизации и находит интерфейс, с которого должен быть отправлен пакет. Пакет, после некоторых изменений в заголовке, с информацией о маршруте снова передается на канальный уровень передачи данных.  
  
Сетевой уровень в пункте назначения отвечает за проверку адреса; он гарантирует, что адрес назначения в пакете совпадает с адресом хоста. Если пакет представляет собой фрагмент, сетевой уровень ожидает, пока не поступят все фрагменты, а затем повторно собирает их и доставляет повторно собранный пакет на транспортный уровень.

### Функции сетевого уровня

- Преобразование логического сетевого адреса в физический адрес  
- Маршрутизаторы и шлюзы работают на сетевом уровне. Механизм обеспечивается сетевым уровнем для маршрутизации пакетов к конечному пункту назначения.  
- Предоставление услуги подключения, включая управление потоком на сетевом уровне, управление ошибками на сетевом уровне и управление последовательностью пакетов.  
- Деление больших пакетов на маленькие пакеты.