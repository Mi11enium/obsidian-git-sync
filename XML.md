# XML - eXtensible Markup Language
## Что такое XML
> [!summary] XML
> XML - это расширяемый язык разметки. XML **предназначен для хранения и передачи структурированных данных**

- **XML** предназначен для передачи данных.
- **Теги XML** не предопределены.
- **XML** описан таким образом, чтобы быть самоопределяемым.
***
## Разница между XML и HTML
XML не является заменой HTML. Они предназначены для решения разных задач:
- XML **решает задачу хранения и транспортировки данных**, фокусируясь на том, что такое эти самые данные
- HTML же **решает задачу отображения данных**, фокусируясь на том, как эти данные выглядят

HTML же решает задачу отображения данных, фокусируясь на том, как эти данные выглядят.
***
## XML ничего не делает
XML ничего не делает. Он был **создан для структурирования, хранения и передачи данных**.
***
## В XML вы изобретаете свои собственные теги
в XML нет предопределенных тегов.
XML позволяет автору определять свои языковые теги и свою структуру документа.
***
## XML – это не замена HTML
XML не является заменой HTML.
В большинстве веб-приложений XML используется для транспортировки данных, а HTML для форматирования и отображения данных.
***
## XML - везде
В настоящее время XML также важен для сети, как когда-то был важен HTML для рождения современного Интернета. XML – это общий инструмент передачи данных между всеми видами приложений.
***
# Как используется XML?
XML используется во многих аспектах веб-разработки, но **основная его задача — облегчение хранения и передачи данных**.

## XML отделяет данные от HTML
Если вам в HTML документе необходимо отображать динамические данные, то это будет занимать слишком много времени, если всякий раз, когда эти данные изменились, редактировать сам HTML документ.

С **XML** данные можно хранить в отдельных файлах XML. При этом вы сосредотачиваетесь на использовании HTML/CSS для отображения и шаблонизации и можете быть уверены, что поступающие новые данные не потребуют каких-либо изменений в коде HTML документа.
***
## XML упрощает распределение данных
В реальном мире компьютерные системы и базы данных используют данные в несовместимых форматах.
XML данные хранятся в простом текстовом формате. Это обеспечивает программную и аппаратную независимость.
Это позволяет легко создавать данные, которые могут использоваться самыми разными приложениями.
***
## XML упрощает передачу данных
Одной из самых время затратных проблем разработчиков всегда была и остается до сих пор проблема обмена данными между несовместимыми между собой системами.

Передача данных в виде XML значительно снижает сложность этой проблемы, так как данные в этом формате могут быть прочитаны разными несовместимыми приложениями.
***
## XML используется для создания новых интернет-языков
С использованием XML было создано множество языков программирования в Интернете.
Вот несколько примеров:

-   XHTML
-   WSDL для описания доступных веб-сервисов
-   WAP и WML как языки разметки для портативных устройств типа КПК
-   RSS языки для новостных каналов
-   RDF и OWL для описания ресурсов и онтологии
-   SMIL для описания мультимедиа для сети


https://msiter.ru/tutorials/uchebnik-xml-dlya-nachinayushchih/kak-ispolzuetsya-xml
***
# Синтаксис XML
## Структура XML файла
Любой XML файл, начинается с объявления декларации.
### Декларация
> <?xml version="1.0" encoding="UTF-8"?>

Если Вы используете **xml version 1.0**, то строку декларации можно не указывать, если Вы используете версию 1.1, то необходимо обязательно указать данную строку.
***
### Элементы xml файла
- В одном файле может содержаться любое количество элементов.
- Имена тегов могут начинаться с **буквы, символа подчеркивания, или знака двоеточие**, затем могут указываться любые символы.
- Одиночный тег может применяться, в ситуации, когда между тегами не содержится какая-либо информация, при этом чтобы не указывать, парный тег и пустоту между ними, используйте одиночный тег, который в любой момент можно будет заменить парным. Одиночный тег обязательно должен быть закрытым!
- При построение XML документа очень **важно соблюдать правильность вложенности тегов**
- XML **регистро-зависимый** язык
***
### Корневой элемент
**Первым** всегда **указывается** **корневой элемент** (root element), в одном XML документе **может быть только один корневой элемент!**

После объявления корневого элемента, Вы можете добавлять любое количество элементов в ваш **XML файл**. Все добавляемые элементы обязательно должны находиться между тегами корневого элемента.
***
### Атрибуты xml файла
- Атрибуты устанавливают в открывающем теге любого элемента.
- Элементы могут содержать атрибуты, а значения атрибутов должны быть заключены в кавычки (одинарные или двойные).
- Атрибутов может быть любое количество, но они не должны повторяться, а их имена не должны содержать пробелов.
- После того, как **XML документ** создан, его необходимо сохранить, при этом не забывайте изменить расширение файла на **.xml**
***
### Сущности
Некоторые символы в XML имеют особые значения.

Если вы поместите, например, символ "<" внутри XML элемента, то будет сгенерирована ошибка, так как парсер интерпретирует его, как начало нового элемента.

![[XML_сущности.png]]

В XML существует 5 предопределенных сущностей:
| Сущность | Символ | Значение    |
| -------- | ------ | ----------- |
| &lt;     | <      | меньше, чем |
| &gt;     | >      | больше, чем |
| &amp;    | &      | амперсанд   |
| &apos;   | '      | апостроф    |
| &quot;   | "      | кавычки            |
***
### Комментарии в XML
Синтаксис комментариев в XML такой же, как и в HTML.

<!-- Это комментарий -->
***
### В XML пробелы сохраняются
В HTML несколько последовательных пробельных символов усекаются до одного. В XML документе все пробельные символы сохраняются.
***
### Синтаксически верный XML документ
Если XML документ составлен в соответствии с приведенными синтаксическими правилами, то говорят, что это "синтаксически верный" XML документ.
***
# XML элементы
XML документ состоит из XML элементов.
## Что такое XML элемент?
XML элемент — это все от (и включая) начального тега элемента до (и включая) конечного тега элемента.

Элемент может содержать:

-   другие элементы
-   текст
-   атрибуты
-   или набор из всего выше названного
***
### Пустые XML элементы
При написании элементов без контента можно использовать альтернативный синтаксис.

Вместо того, чтобы писать пустой элемент в виде:
~~~xml
<book></book>
~~~
Можно написать:
~~~xml
<book />
~~~
***
### Правила написания имен XML
XML элементы должны следовать следующим правилам написания имен:

-   Имена могут содержать буквы, числа и другие символы
-   Имена не могут начинаться с цифры или символа пунктуации
-   Имена не могут начинаться с сочетания "xml" (или XML, или Xml и т.п.)
-   Имена не могут содержать пробельные символы
***
### Хорошая практика составления имен
Старайтесь придумать описательные имена: **<first_name>, <last_name>**.

Имена следует составлять короткие и простые, вроде: **<book_title>**; а не: **<the_title_of_the_book>**.

Избегайте символ "-". Если вы напишите нечто вроде "first-name", то некоторые приложения могут решить, что вы вычитаете имя "name" из имени "first".

Избегайте символ ".". Если вы напишите нечто вроде "first.name", то некоторые приложения могут решить, что "name" это свойство объекта "first".

Избегайте символ ":". Двоеточие зарезервировано для механизма [пространства имен](https://msiter.ru/tutorials/uchebnik-xml-dlya-nachinayushchih/xml-prostranstva-imen).

Не-латинские символы, вроде, _éòá_ вполне легальны в XML, однако, если некое приложение их не поддерживает, то возникнут проблемы.
***
### Стили написания имен
Для XML элементов не существует какого-либо определенного стиля написания имен. Тем не менее, вот несколько наиболее часто используемых стилей:
| Стиль                    | Пример             | Описание                                                         |
| ------------------------ | ------------------ | ---------------------------------------------------------------- |
| Нижний регистр           | &lt;firstname&gt;  | Все буквы в нижнем регистре                                      |
| Верхний регистр          | &lt;FIRSTNAME&gt;  | Все буквы в верхнем регистре                                     |
| С символом подчеркивания | &lt;first_name&gt; | Слова разделяются символом подчеркивания                         |
| В стиле Pascal           | &lt;FirstName&gt;  | Первые буквы всех слов в верхнем регистре                        |
| camelCase                | &lt;firstName&gt;  | Первые буквы всех слов за исключением первого в верхнем регистре |

Если вы выбрали какой-либо стиль написания имен, то **следует последовательно придерживаться его!**

Очень часто XML документ сопровождается соответствующей базой данных. Хорошей практикой является **использование таких же правил написания имен элементов XML документа, что и в соответствующей базе данных.**
***
### Расширяемость XML элементов
Одно из главных достоинств XML состоит в том, что XML документ можно легко расширять не влияя на работу исходного приложения.

Взгляните на следующий пример:
```xml
<note>
	<to>Tove</to>
	<from>Jani</from>
	<body>Не забудь про меня в эти выходные!</body>
</note>
```

Представьте, что автор XML документа добавил некоторую дополнительную информацию:
~~~xml
<note>
	<date>2008-01-10</date>
	<to>Tove</to>
	<from>Jani</from>
	<heading>Напоминание</heading>
	<body>Не забудь про меня в эти выходные!</body>
</note>
~~~

Прервется ли работа нашего приложения?

Нет. Приложение все равно будет способно отыскать элементы ```
```xml
<to>, <from> и <body>
```
и сформировать тот же самый вывод.
***
# XML атрибуты
Как и в HTML, **XML элементы** могут иметь атрибуты. При этом значение _атрибутов в XML_ и правило их создания во многом похожи на [атрибуты в HTML](https://msiter.ru/tutorials/html-nachalnogo-urovnya/tegi-atributy-elementy).

## XML атрибуты
В HTML атрибуты предоставляют некоторую дополнительную информацию об элементе:
~~~html
<img src='computer.gif'>
<a href='demo.asp'>
~~~
Атрибуты часто предоставляют информацию, не являющуюся частью данных. В примере ниже тип файла не зависит от данных, но эта информация может быть важна для приложений, которые будут манипулировать этим элементом:
~~~html
<file type="gif">computer.gif</file>
~~~
***
### XML атрибуты должны заключаться в кавычки
Значение атрибута всегда должно заключаться в кавычки. Это могут быть либо двойные, либо одинарные кавычки. Например, пол персонажа можно записать так:
~~~xml
<person sex="female">
~~~
либо так:
~~~xml
<person sex='female'>
~~~

Если значение атрибута само содержит двойные кавычки, то можно использовать одинарные кавычки. Например:
~~~xml
<gangster name='George "Shotgun" Ziegler'>
~~~
либо использовать символы сущностей:
~~~xml
<gangster name="George &quot;Shotgun&quot; Ziegler">
~~~
***
### XML элементы или атрибуты
**Пример №1**
~~~xml
<person sex="female">
	<firstname>Anna</firstname>
	<lastname>Smith</lastname>
</person>
~~~
**Пример №2**
~~~xml
<person>
	<sex>female</sex>
	<firstname>Anna</firstname>
	<lastname>Smith</lastname>
</person>
~~~

В первом примере пол указан в атрибуте. Во втором, пол записан, как элемент. Оба примера предоставляют одну и ту же информацию.

Нет правил, регулирующих то, когда использовать атрибуты, а когда элементы. **Атрибуты** широко используются в HTML. **В XML**, на мой взгляд, **лучше их избегать, и вместо них использовать элементы.**
***
### Что лучше?
Следующие три XML документа содержат совершенно одинаковую информацию:
**Дата записана, как атрибут**:
~~~xml
<note date="10/01/2008">
	<to>Tove</to>
	<from>Jani</from>
	<heading>Напоминание</heading>
	<body>Не забудь обо мне в эти выходные!</body>
</note>
~~~
**Дата записана, как элемент**:
~~~xml
<note>
	<date>10/01/2008</date>
	<to>Tove</to>
	<from>Jani</from>
	<heading>Напоминание</heading>
	<body>Не забудь обо мне в эти выходные!</body>
</note>
~~~
**Дата записана, как расширенный элемент** (На мой взгляд наилучший вариант):
~~~xml
<note>
	<date>
		<day>10</day>
		<month>01</month>
		<year>2008</year>
	</date>
	<to>Tove</to>
	<from>Jani</from>
	<heading>Напоминание</heading>
	<body>Не забудь обо мне в эти выходные!</body>
</note>
~~~
***
### Избегать ли XML атрибуты?
При использовании атрибутов возникают некоторые проблемы:

-   атрибуты не могут содержать множественные значения (элементы могут)
-   атрибуты не могут содержать древовидные структуры (элементы могут)
-   атрибуты сложно расширять (для будущих изменений)

Атрибуты нелегко читать и обслуживать. Используйте элементы для данных, а атрибуты для информации, не относящейся к данным.

**Никогда не используйте** следующие конструкции:
~~~xml
<note
	day="10" month="01" year="2008"
	to="Tove" from="Jani" heading="Напоминание"
	body="Не забудь обо мне в эти выходные!">
</note>
~~~

### XML атрибуты для метаданных
Иногда элементам присваивают идентификаторы. Эти идентификаторы используются для идентификации XML элементов в точности также, как идентификационные атрибуты в HTML. Следующий пример демонстрирует это:
~~~xml
<messages>
	<note id="501">
		<to>Tove</to>
		<from>Jani</from>
		<heading>Напоминание</heading>
		<body>Не забудь обо мне в эти выходные!</body>
	</note>
	<note id="502">
		<to>Jani</to>
		<from>Tove</from>
		<heading>Re: Напоминание</heading>
		<body>Не забуду</body>
	</note>
</messages>
~~~
В приведенном примере **атрибут id используется для идентификации** разных заметок. Эта **информация не является частью самой заметки**.

Главная мысль всего сказанного это то, что **метаданные (данные о данных) следует записывать, как атрибуты, а сами данные, как элементы**.