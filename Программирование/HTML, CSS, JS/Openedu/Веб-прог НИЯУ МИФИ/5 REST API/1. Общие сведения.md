# Общие сведения о REST API
В системах клиент-сервер существует несколько типов конфигурации:

## Двухуровневая архитектура
- **двухуровневая архитектура** - используется для описания клиент-серверной системы, в которых клиент запрашивает ресурсы, а сервер отвечает непосредственно на запрос используя свои собственные ресурсы. Это означает что сервер не обращается к другому приложению чтобы предоставить части услуги.

![[2l.png]]

## Трехуровневая архитектура
- **трехуровневая архитектура** - в трехуровневой архитектуре используется промежуточный уровень, что означает, что архитектура обычна разделена между **клиентом** т.е. компьютером, который запрашивает ресурсы, оснащенным пользовательским интерфейсом (обычно веб-браузером) для целей представления.
**Сервер приложений**, также называемым промежуточным ПО, задачей которого является предоставление запрошенных ресурсов, но путем вызова на другом сервере.
**Сервер данных** - предоставляет серверу приложений необходимые данные.

Совместное использование приложений между клиентом, промежуточным ПО и корпоративным сервером.
Совместное использование приложений между клиентом, сервером приложений и сервером корпоративной БД

![[3l.png]]

## Многоуровневая архитектура
Трехуровневая архитектура потенциально является n-уровневой архитектурой.
![[archsj.png]]

## HTTP Request structure
В основе функционирования многоуровневых систем лежат HTTP запросы. HTTP запросы и ответы имеют близкую структуру.

- Они состоят из стартовой строки описывающей запрос или статус успех или сбой - это всегда одна строка.
- Произвольного набора HTTP заголовков  определяющих запрос или описывающих тело сообщения.
- Пустой строки, указывающей что вся мета-информация отправлена.
- Произвольного тела, содержащего пересылаемым запросом данные, например, содержимое HTML-формы или отправляемый в ответ документ. Наличие тела и его размер определяется стартовой строкой и заголовками HTTP

![[HTTPreq.png]]

## HTTP Methods
В URL не отображается только тип выполняемого REST- запроса - они известны как HTTP глаголы и их легко понять.

<mark style="background: #ADCCFFA6;">C</mark> --> Create --> <mark style="background: #ADCCFFA6;">POST</mark>  - Создает запись в БД
<mark style="background: #ADCCFFA6;">R</mark> --> Read --> <mark style="background: #ADCCFFA6;">GET</mark>  - Получает запись из БД
<mark style="background: #ADCCFFA6;">U</mark> --> Update --> <mark style="background: #ADCCFFA6;">PUT</mark> - Берет запись из базы и заменяет её новой
<mark style="background: #ADCCFFA6;">D</mark> --> Delete --> <mark style="background: #ADCCFFA6;">DELETE</mark> - Удаляет запись из БД
P --> Change --> PATCH - Меняет существующую запись в БД

## Коды состояния ответа HTTP
После отправки запроса сервер возвращает ответ. Ответы от сервера содержат коды состояния для обращения к клиенту об успехе операции.

1xx - Informational
2xx - Success
3xx - Redirection
4xx - Client Error
5xx - Server Error

![[HTTPStatus.png]]

## REST (REpresentational State Transfer) - передача состояния представления
REST - это архитектурный стиль взаимодействия компонентов распределенной системы в компьютерной сети. Проще говоря REST определяет стиль взаимодействия обмена данными между разными компонентами системы, каждый из которых может физически располагаться в разных местах.

REST **определяет как компоненты** распределенной системы **должны взаимодействовать друг с другом**. В общем случае это происходит посредством запросов/ответов.
Компонент, который отпрявляет запрос называют клиентом.
Компонент, который обрабатывает запрос и отправляет клиенту ответ, называют сервером.

Запросы и ответы чаще всего отправляются по протоколу HTTP. Как правило сервер это некое приложение. Клиентом может быть множество устройств.

Не каждая система чьи компоненты обмениваются данными посредством запросов объектов является REST или RESTful системой. Чтобы система считалась RESTful она должна вписываться в 6 REST-ограничений:
1. Приведение архитектуры к модели клиент-сервер
2. Отсутствие состояния
3. Кэширование
4. Единобразие интерфейса
5. Слои